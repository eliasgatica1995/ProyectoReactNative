{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { URL } from \"../../constants/Database\";\nexport var ADD_ITEM = 'ADD_ITEM';\nexport var REMOVE_ITEM = 'REMOVE_ITEM';\nexport var CONFIRM_CART = 'CONFIRM_CART';\nexport var addItem = function addItem(item) {\n  return {\n    type: ADD_ITEM,\n    item: item\n  };\n};\nexport var removeItem = function removeItem(itemID) {\n  return {\n    type: REMOVE_ITEM,\n    itemID: itemID\n  };\n};\nexport var confirmCart = function confirmCart(payload, total) {\n  return function _callee(dispatch) {\n    var response, result;\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(fetch(URL + 'ordenes.json', {\n              method: 'POST',\n              headers: {\n                'Content-Type': 'aplication/json'\n              },\n              body: JSON.stringify({\n                date: Date.now(),\n                items: payload,\n                total: total\n              })\n            }));\n\n          case 3:\n            response = _context.sent;\n            _context.next = 6;\n            return _regeneratorRuntime.awrap(response.json());\n\n          case 6:\n            result = _context.sent;\n            console.log({\n              result: result\n            });\n            dispatch({\n              type: CONFIRM_CART,\n              confirm: true\n            });\n            _context.next = 14;\n            break;\n\n          case 11:\n            _context.prev = 11;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(_context.t0.message);\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 11]], Promise);\n  };\n};","map":{"version":3,"sources":["/home/ggatica/Escritorio/ProyectoEntrega/store/actions/CartAction.js"],"names":["URL","ADD_ITEM","REMOVE_ITEM","CONFIRM_CART","addItem","item","type","removeItem","itemID","confirmCart","payload","total","dispatch","fetch","method","headers","body","JSON","stringify","date","Date","now","items","response","json","result","console","log","confirm","message"],"mappings":";AAAA,SAASA,GAAT;AACA,OAAO,IAAMC,QAAQ,GAAG,UAAjB;AACP,OAAO,IAAMC,WAAW,GAAG,aAApB;AACP,OAAO,IAAMC,YAAY,GAAE,cAApB;AAEP,OAAO,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAAAC,IAAI;AAAA,SAAI;AAC3BC,IAAAA,IAAI,EAAEL,QADqB;AAE3BI,IAAAA,IAAI,EAAJA;AAF2B,GAAJ;AAAA,CAApB;AAIP,OAAO,IAAME,UAAU,GAAG,SAAbA,UAAa,CAAAC,MAAM;AAAA,SAAI;AAChCF,IAAAA,IAAI,EAAEJ,WAD0B;AAEhCM,IAAAA,MAAM,EAANA;AAFgC,GAAJ;AAAA,CAAzB;AAIP,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,OAAD,EAASC,KAAT,EAAkB;AACzC,SAAO,iBAAMC,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAEwBC,KAAK,CAAEb,GAAG,GAAC,cAAN,EAAsB;AAC9Cc,cAAAA,MAAM,EAAE,MADsC;AAE9CC,cAAAA,OAAO,EAAC;AACJ,gCAAgB;AADZ,eAFsC;AAK9CC,cAAAA,IAAI,EAACC,IAAI,CAACC,SAAL,CAAe;AAChBC,gBAAAA,IAAI,EAACC,IAAI,CAACC,GAAL,EADW;AAEhBC,gBAAAA,KAAK,EAACZ,OAFU;AAGhBC,gBAAAA,KAAK,EAALA;AAHgB,eAAf;AALyC,aAAtB,CAF7B;;AAAA;AAEOY,YAAAA,QAFP;AAAA;AAAA,6CAcsBA,QAAQ,CAACC,IAAT,EAdtB;;AAAA;AAcOC,YAAAA,MAdP;AAeCC,YAAAA,OAAO,CAACC,GAAR,CAAY;AAACF,cAAAA,MAAM,EAANA;AAAD,aAAZ;AACAb,YAAAA,QAAQ,CAAC;AACLN,cAAAA,IAAI,EAAEH,YADD;AAELyB,cAAAA,OAAO,EAAC;AAFH,aAAD,CAAR;AAhBD;AAAA;;AAAA;AAAA;AAAA;AAqBMF,YAAAA,OAAO,CAACC,GAAR,CAAY,YAAEE,OAAd;;AArBN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAP;AAuBH,CAxBM","sourcesContent":["import { URL } from \"../../constants/Database\";\nexport const ADD_ITEM = 'ADD_ITEM'\nexport const REMOVE_ITEM = 'REMOVE_ITEM'\nexport const CONFIRM_CART ='CONFIRM_CART'\n\nexport const addItem = item =>({\n    type: ADD_ITEM,\n    item,\n})\nexport const removeItem = itemID =>({\n    type: REMOVE_ITEM,\n    itemID,\n})\nexport const confirmCart = (payload,total) =>{\n    return async dispatch =>{\n        try{\n            const response = await fetch((URL+'ordenes.json'),{\n                method: 'POST',\n                headers:{\n                    'Content-Type': 'aplication/json'\n                },\n                body:JSON.stringify({\n                    date:Date.now(),\n                    items:payload,\n                    total\n\n                })\n            })\n            const result = await response.json()\n            console.log({result})\n            dispatch({\n                type: CONFIRM_CART,\n                confirm:true\n            })\n        }\n        catch(e){console.log(e.message)}\n    } \n}\n"]},"metadata":{},"sourceType":"module"}