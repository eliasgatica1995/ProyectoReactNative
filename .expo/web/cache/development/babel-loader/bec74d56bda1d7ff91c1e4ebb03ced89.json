{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport * as ImagePicker from 'expo-image-picker';\nimport * as Permission from 'expo-permissions';\n\nvar ImageSelector = function ImageSelector(props) {\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      pickedUri = _useState2[0],\n      setPickedUri = _useState2[1];\n\n  var veriryPermissions = function veriryPermissions() {\n    var _await$ImagePicker$re, status;\n\n    return _regeneratorRuntime.async(function veriryPermissions$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(ImagePicker.requestCameraPermissionsAsync());\n\n          case 2:\n            _await$ImagePicker$re = _context.sent;\n            status = _await$ImagePicker$re.status;\n\n            if (!(status !== 'granted')) {\n              _context.next = 7;\n              break;\n            }\n\n            Alert.alert('Permisos insuficientes', 'Necesita dar permisos de la camara para usar la aplicacion', [{\n              text: 'Ok'\n            }]);\n            return _context.abrupt(\"return\", false);\n\n          case 7:\n            return _context.abrupt(\"return\", true);\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var handlerTakeImage = function handlerTakeImage() {\n    var isCameraOk, image;\n    return _regeneratorRuntime.async(function handlerTakeImage$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(veriryPermissions());\n\n          case 2:\n            isCameraOk = _context2.sent;\n\n            if (isCameraOk) {\n              _context2.next = 5;\n              break;\n            }\n\n            return _context2.abrupt(\"return\");\n\n          case 5:\n            _context2.next = 7;\n            return _regeneratorRuntime.awrap(ImagePicker.launchCameraAsync({\n              allowsEditing: true,\n              aspect: [16, 9],\n              quality: 0.8\n            }));\n\n          case 7:\n            image = _context2.sent;\n            setPickedUri(image.uri);\n            props.onImage(image.uri);\n\n          case 10:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return React.createElement(View, {\n    style: styles.container\n  }, React.createElement(View, {\n    style: styles.preview\n  }, !pickedUri ? React.createElement(Text, null, \"No hay imagen seleccionada...\") : React.createElement(Image, {\n    style: styles.image,\n    source: {\n      uri: pickedUri\n    }\n  })), React.createElement(Button, {\n    title: \"Tomar foto\",\n    color: 'black',\n    onPress: handlerTakeImage\n  }));\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    marginBottom: 10\n  },\n  preview: {\n    width: '100%',\n    height: 200,\n    marginBottom: 10,\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderColor: 'black',\n    borderWidth: 1\n  },\n  image: {\n    width: '100%',\n    height: '100%'\n  }\n});\nexport default ImageSelector;","map":{"version":3,"sources":["/home/ggatica/Escritorio/ProyectoEntrega/components/ImageSelector.js"],"names":["React","useState","ImagePicker","Permission","ImageSelector","props","pickedUri","setPickedUri","veriryPermissions","requestCameraPermissionsAsync","status","Alert","alert","text","handlerTakeImage","isCameraOk","launchCameraAsync","allowsEditing","aspect","quality","image","uri","onImage","styles","container","preview","StyleSheet","create","marginBottom","width","height","justifyContent","alignItems","borderColor","borderWidth"],"mappings":";;AAAA,OAAOA,KAAP,IAAcC,QAAd,QAA6B,OAA7B;;;;;;;AAEA,OAAO,KAAKC,WAAZ,MAA6B,mBAA7B;AACA,OAAO,KAAKC,UAAZ,MAA4B,kBAA5B;;AAEA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAAAC,KAAK,EAAI;AAC3B,kBAAiCJ,QAAQ,EAAzC;AAAA;AAAA,MAAOK,SAAP;AAAA,MAAiBC,YAAjB;;AAEA,MAAMC,iBAAiB,GAAG,SAApBA,iBAAoB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CACCN,WAAW,CAACO,6BAAZ,EADD;;AAAA;AAAA;AACfC,YAAAA,MADe,yBACfA,MADe;;AAAA,kBAElBA,MAAM,KAAK,SAFO;AAAA;AAAA;AAAA;;AAGlBC,YAAAA,KAAK,CAACC,KAAN,CAAY,wBAAZ,EAAsC,4DAAtC,EAAmG,CAAC;AAACC,cAAAA,IAAI,EAAC;AAAN,aAAD,CAAnG;AAHkB,6CAIX,KAJW;;AAAA;AAAA,6CAMf,IANe;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA1B;;AASA,MAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CACIN,iBAAiB,EADrB;;AAAA;AACfO,YAAAA,UADe;;AAAA,gBAEhBA,UAFgB;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA,6CAGDb,WAAW,CAACc,iBAAZ,CAA8B;AAC9CC,cAAAA,aAAa,EAAE,IAD+B;AAE9CC,cAAAA,MAAM,EAAC,CAAC,EAAD,EAAI,CAAJ,CAFuC;AAG9CC,cAAAA,OAAO,EAAC;AAHsC,aAA9B,CAHC;;AAAA;AAGfC,YAAAA,KAHe;AAQrBb,YAAAA,YAAY,CAACa,KAAK,CAACC,GAAP,CAAZ;AACAhB,YAAAA,KAAK,CAACiB,OAAN,CAAcF,KAAK,CAACC,GAApB;;AATqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAzB;;AAaA,SACI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEE,MAAM,CAACC;AAApB,KACI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAED,MAAM,CAACE;AAApB,KACK,CAACnB,SAAD,GAAa,oBAAC,IAAD,wCAAb,GACG,oBAAC,KAAD;AAAO,IAAA,KAAK,EAAEiB,MAAM,CAACH,KAArB;AAA4B,IAAA,MAAM,EAAE;AAACC,MAAAA,GAAG,EAAGf;AAAP;AAApC,IAFR,CADJ,EAMI,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,YAAd;AAA2B,IAAA,KAAK,EAAE,OAAlC;AAA2C,IAAA,OAAO,EAAEQ;AAApD,IANJ,CADJ;AAUH,CAnCD;;AAoCA,IAAMS,MAAM,GAAGG,UAAU,CAACC,MAAX,CAAkB;AAC7BH,EAAAA,SAAS,EAAC;AACNI,IAAAA,YAAY,EAAC;AADP,GADmB;AAI7BH,EAAAA,OAAO,EAAC;AACJI,IAAAA,KAAK,EAAC,MADF;AAEJC,IAAAA,MAAM,EAAE,GAFJ;AAGJF,IAAAA,YAAY,EAAE,EAHV;AAIJG,IAAAA,cAAc,EAAE,QAJZ;AAKJC,IAAAA,UAAU,EAAC,QALP;AAMJC,IAAAA,WAAW,EAAE,OANT;AAOJC,IAAAA,WAAW,EAAC;AAPR,GAJqB;AAa7Bd,EAAAA,KAAK,EAAC;AACFS,IAAAA,KAAK,EAAC,MADJ;AAEFC,IAAAA,MAAM,EAAE;AAFN;AAbuB,CAAlB,CAAf;AAkBA,eAAe1B,aAAf","sourcesContent":["import React,{useState} from 'react'\nimport {View,Button,Image,Text,StyleSheet,Alert} from 'react-native'\nimport * as ImagePicker from 'expo-image-picker'\nimport * as Permission from 'expo-permissions'\n\nconst ImageSelector = props => {\n    const [pickedUri,setPickedUri] = useState()\n\n    const veriryPermissions = async () =>{\n        const {status} = await ImagePicker.requestCameraPermissionsAsync()\n        if (status !== 'granted'){\n            Alert.alert('Permisos insuficientes', 'Necesita dar permisos de la camara para usar la aplicacion',[{text:'Ok'}])\n            return false;\n        }\n        return true;\n    }\n\n    const handlerTakeImage = async () => {\n        const isCameraOk = await veriryPermissions();\n        if (!isCameraOk) return ;\n        const image = await ImagePicker.launchCameraAsync({\n            allowsEditing: true,\n            aspect:[16,9],\n            quality:0.8\n        })\n        setPickedUri(image.uri)\n        props.onImage(image.uri)\n    }\n\n\n    return (\n        <View style={styles.container}>\n            <View style={styles.preview}>\n                {!pickedUri ? <Text>No hay imagen seleccionada...</Text>\n                 : (<Image style={styles.image} source={{uri : pickedUri}}/>)\n                }\n            </View>\n            <Button title='Tomar foto' color={'black'} onPress={handlerTakeImage}/>\n        </View>\n    )   \n}\nconst styles = StyleSheet.create({\n    container:{\n        marginBottom:10,\n    },\n    preview:{\n        width:'100%',\n        height: 200,\n        marginBottom: 10,\n        justifyContent: 'center',\n        alignItems:'center',\n        borderColor: 'black',\n        borderWidth:1,\n    },\n    image:{\n        width:'100%',\n        height: '100%'\n    }\n})\nexport default ImageSelector"]},"metadata":{},"sourceType":"module"}